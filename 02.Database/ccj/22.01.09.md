## [Index](#index-답변)

[생각](###생각)  
[정리](###정리)
---
###생각
#### 💡 Index란 무엇인가?
- 데이터 데이스에서 데이터 저장하는 방식
- 키를 트리구조로 만들어 데이터를 찾아 가는 방식

    - 저장공간을 사용하여 데이터에 빠르게 접근할 수 있는 자료구조

#### 💡 데이터베이스의 Index 구조에 대해 설명하시오.
- 트리 구조로 되어 있고 키에 따라서 대소관계를 이용하여 분류함

    - 해쉬, B+Tree

#### 💡 Index의 자료구조는 어떤 것을 사용하나요?
- B-Tree, B+Tree

#### 💡 Index를 따로 설정하지 않은 경우의 테이블은 어떤가요?
- 어떤가요?
    - 인덱스를 설정하지 않아도 기본적으로 PK 값이 인덱스로 설정됨

#### 💡 모든 칼럼에 Index를 사용하면 좋나요?
- 데이터의 특성에 따라 장단점이 있겠죠?
- 검색을 많이하면 좋을 수 있고
- 저장을 많이 한다면 Heap 이 좋나?
    - 양이 많은 테이블에서 일부 데이터만 불러올 때, 풀 스캔 시 처리 성능 떨어짐
    - 모든 컬럼에 인덱스를 추가하면 실제 데이터보다 인덱스가 더 커짐
    
#### 💡 Index는 어디에 사용하는게 좋아요?
- 저장과 검색 두루 사용될 때?
- 저장하려는 데이터가 편중되지 않을 때?
    - 삽입, 삭제, 갱신 거의 없고 검색 많은 테이블

#### 💡 Index 사용 시 장단점과 사용하면 좋은 경우와 나쁜 경우에 대해 설명하시오.
- 정확히는 모르겠음
    - 검색 장점!
    - 삽입 삭제 갱신 단점!
    
#### 💡 DB 이중화란 무엇인가?
- ?

---
###정리
####인덱스
배경
- 추가적인 쓰기 작업과 저장 공간을 활용하여 데이터베이스 테이블의 검색 속도를 향상시키기 위한 자료구조
- 책의 색인
- Select 이 빨라지니 Update 나 Delete 도 빨라짐

동작
- 삽입
- 삭제

`현재`
- 숫자로 예시만 나오는데 어떻게 사용되고 있을까?
- B-Tree 장점 단점 예시
- B+Tree 장점 단점 예시

장단점
- 장점
    - 테이블을 조회하는 속도와 그에 따른 성능을 향상시킬 수 있음
    - 전반적인 시스템 부하 줄임
    - 규모가 작지 않은 테이블 | INSERT, DELETE, UPDATE 가 자주 발생하지 않는 컬럼 | JOIN 이나 WHERE , ORDER BY 자주 사용되는 컬럼 |
        데이터 붕복도가 낮은 컬럼
- 단점
    - 인덱스를 관리하기 위해 DB의 약 10%에 해당하는 저장공간이 필요함
    - 인덱스 관리를 위해 추가 작업 필요 & 성능 저하 발생
        - UPDATE, DELETE 연산때문에 인덱스 삭제 안되고 사용하지 않음 처리 | 인덱스가 실제 데이터보다 많아질 수 있음
    
####인덱스 자료구조
- 해시 테이블
    - 키-벨류로 데이터를 저장하는 자료구조
    - 빠른 데이터 검색이 필요할 때 유용
    - `부등호 연산이 필요한 검색에는 적합하지 않음`
    
- B+Tree
    - 자식 노드가 2개 이상인 B-Tree 를 개선시킨 자료구조
    - 리프노드만 인덱스와 함께 데이터를 가짐 | 나머지는 데이터를 위한 인덱스만 가짐
    - 리프노드들은 LinkedList 로 연결됨
    - 데이터 노드 크기는 인덱스 노드의 크기와 같지 않아도 됨
    
####B-Tree
- root node 가 leaf node 인 경우 제외하고 항상 최소 2개의 children 을 가짐
- root node 와 leaf node 를 제외한 모든 node 들은 최소 `[M/2]`, 최대 M 개의 서브트리 가짐
- 모든 leaf node 들은 같은 level 에 있어야함
- 새로운 key 값은 leaf node 에 삽입
- node 내 key 값은 오름차순
- leaf node는 최소 `[m/2] - 1`개의 key 를 가짐

####B+Tree
- 리프노드를 제외하고 데이터를 담아두지 않기 때문에 메모리를 더 확보하면서 더 많은 key를 수용할 수 있음
- 하나의 노드에 더 많은 key를 담을 수 있어 트리 높이가 낮아져서 `검색이 더 빠름!?` -> 아닌듯
- 풀 스캔시 선형탐색 한번이면 끝! (B-Tree 는 모든 노드 확인)

####DB 이중화
배경
- 웹서버 부하로 인해 L4를 사용하여 로드밸런싱으로 웹서버의 부하를 해결했지만 DB 서버의 부하로 사이트가 느리게 열리는 현상 발생
- 리플리케이션(복제) : 2대 이상의 DBMS 를 나눠서 데이터를 저장하는 방식

동작
- master
    - 웹서버로 부터 데이터 등록 삭제 수정 요청을 바이너리로그로 생성하여 slave 서버로 전달
- slave
    - master 로부터 전달받은 바이너리로그를 데이터로 반영함
    
현재
- 목적
    - 데이터 백업
    - DBMS 부하분산
- `실제로 어떻게 사용되고 있을까?`