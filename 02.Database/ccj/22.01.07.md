## [Transaction](#transaction-답변)

[생각](###생각)  
[정리](###정리)
---
###생각
#### 💡 트랜잭션이란 무엇이고 특성에 대해 설명하시오.
- 데이터베이스에 여러 사용자가 동시에 접근하였을 때 데이터의 일관성을 보장해주는 기능
- 원자성
- 한번 실행되면 다른 요청이 같이 실행할 수 없음

#### 💡 잠금기법(Locking)에 대해 설명하시오.
- ?

#### 💡 잠금 기법의 문제점에 대해서 말하시오.
- ?

#### 💡 교착상태(Deadlock)란 무엇인가?
- ?

#### 💡 교착상태의 빈도를 낮추는 방법에는 무엇이 있나요?
- ?
---
###정리
####트랜잭션
- 데이터베이스 상태를 변화시키는 작업의 단위
- 작업의 단위가 하나의 SQL 이 아니고 사람이 정하는 기준에 따라 다름 (여러 SQL 이 될 수도)

- 특징
    - 원자성 : 트랜잭션이 모두 반영되거나 모두 취소되거나
    - 일관성 : 트랜잭션이 진행되는 동안에 데이터 베이스가 변경되더라도 처음 참조한 디비로 진행됨 | 일관된 데이터 제공
    - 독립성 : 둘 이상 동시에 트랜잭션 실행 중 다른 하나 트랜잭션의 연산에 끼어들 수 없음
    - 지속성 : 트랜잭션이 성공적으로 완료되었으면 결과는 영구적으로 반영
    
배경
- 동시에 접근하는 사용자 요청에 따른 일관된 데이터 제공을 위해?

동작
- [다시보기](https://velog.io/@syleemk/%EB%A9%B4%EC%A0%91-%EB%8C%80%EB%B9%84-%EC%8A%A4%ED%94%84%EB%A7%81-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-%EC%A0%84%ED%8C%8C)
- 해당 쿼리가 쿼리 처리기를 통해 통과
- 해당 쿼리를 처리하기 위해 구매자의 데이터가 필요하기 때문에 데이터 캐시에 구매자 데이터 요청
- 데이터 캐시에 데이터 없음
- 데이터 파일에서 필요한 데이터 가져오고
- 데이터 캐시는 필요한 데이터 업데이트된다
- 가져온 데이터 업데이트 하기전에 로그 기록!
- 로그 종류 
    - REDO : 변경 후의 값을 기록
    - UNDO : 변경 전의 값을 기록
- 로그를 기록한 후 데이터 캐시 업데이트
- 트랜잭션이 완료되면 REDO 에는 트랜잭션이 COMMIT 되었다는 기록
- 만약 해당 트랜잭션에 오류가 발생하여 개발자가 ROLL BACK 명령을 내리면 UNDO 로그로 데이터 복원
- 예상치 못한 오류가 발생하는 경우 (DB 전원 꺼짐) REDO 로그를 이용하여 원래 상태로 복원

[DBMS의 전략](https://d2.naver.com/helloworld/407507)
- Query Processor(질의 처리기)
- Storage System(저장 시스템)
