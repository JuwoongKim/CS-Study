# Network 01. TCP/IP, UDP

## 00. TCP/IP

- ### 개념
  인터넷에서 컴퓨터들이 서로 정보를 주고 받을 때 쓰는 통신규약의 모음
  전송 조절 프로토콜인 TCP, 패킷 전달 방식인 IP가 가장 많이 쓰인다.

---

<br />

## 01. TCP와 UDP의 차이

- ### TCP

  TCP는 가상회선을 사용한 논리적 연결을 만들고 흐름제어 및 혼잡제어를 제공한다. UDP에 비해 신뢰성이 높다.

- ### UDP
  UDP는 데이터그램 방식으로 통신한다. 비연결형 서비스이기 때문에 연결을 설정하거나 해제하는 과정이 없다. 패킷 순서, 재조립 등을 제공하지 않는다.

---

<br />

## 02. 3-way-hand-shaking, 4-way-hand-shaking

- ### 3-way-hand-shaking

  3-way-hand-shaking은 TCP에서 가상회선을 만들 때 쓰는 방식이다.

  - 송신자 수신자에게 SYN 패킷 전송
  - 수신자 SYN, ACK 전송
  - 송신자 ACK 전송

- ### 4-way-hand-shaking

  4-way-hand-shaking은 가상회선 연결을 해제할 때 쓰는 방식이다.

  - 송신자 수신자에게 FIN 패킷 전송
  - 수신자 송신자에게 ACK 전송
  - 송신자 수신자에게 FIN 전송(모든 데이터를 전송한 후)
  - 수신자 송신자에게 ACK 전송

- ### 확인 ACK를 받지 못한 경우

  확인 ACK가 오지 않았을 경우 수신 측은 일정시간 대기한다. 그리고 이 시간을 초과하는 동안(TIMEOUT) ACK가 오지 않는다면 패킷을 재전송하고 일정 횟수 이상이 되면 네트워크 연결이 끊어진 것으로 판단한다.

- ### 3-way와 4-way가 한 단계 차이나는 이유

  처음 FIN을 보낸 대상은 모든 데이터를 전송한 후이지만 수신 측은 보낼 데이터가 남아있을 수 있기 떄문이다.

- ### 4-way에서 마지막 ACK의 의미
  두 번째 FIN을 보낸 대상이 수신 측에서 ACK를 받지 못한다면 FIN 패킷이 누락되었다고 판단하여 재전송하게된다. 이런 현상을 방지하기 위해 마지막 ACK가 존재한다.
