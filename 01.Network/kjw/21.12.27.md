# 21.12.27

---

## 개념 정리 


<br/>

### 💡 네트워크

* 네트워크의 구성요소는 링크와 노드이며 노드들이 링크를 통해 연결된 상태를 네트워크라한다. 

* 인터넷은 전세계에서 가장 많이 사용되는 네트워크이다.
* 노드는 노트북, 스마트폰 같이 네트워크 카드를 포함하는 통신 기기를 의미한다.


<br/>

### 💡 데이터 전송 

* 송신 노드로부터 경유되는 노드와 이와 연결된 효율적인 링크를 선택하는 과정을 반복하여 수신노드에게 데이터를 전송한다.

* 전송 방법은 크게 두가지로 나뉜다.

    * 회선 교환방식 
        
        * 데이터 전송을 위한 고정된 이동 경로를 사용하며 통신이 종료되기까지 해당 경로를 독점한다.
        
        * 주로 전화통신을 위해 사용되지만 요즘에는 이마젇도 패킷 교환 방식으로 바뀌고 있다.

        * 네트워크는 혼잡도와 같은 다양한 요인에 의해 상황마다 효율적인 통신 경로가 다르다. 따라서 고정 이동 경로를 통한 통신 방법은 비효율성이 존재한다.

    * 패킷 교환방식 
        
        * 전송할 데이터를 패킷단위로 쪼개어서 패킷마다 독립적인 이동경로를 통해 수신 노드에게 전달된다.

        * 패킷마다 고정되지 않은 이동 경로를 독립적으로 사용함으로써 효율적으로 데이터를 전송할 수 있다.

        * 패킷의 순서, 패킷마다의 이동경로에 대한 정보는, 프로토콜의 패킷헤더를 통해서 신뢰성을 높인다.

* 인터넷은 데이터 전송을 위해 패킷 교환 방식을 사용한다. 또한 인터넷은 TCP/IP 프로토콜을 사용하는데 이에 해당되는
 프로토콜은 결국 패킷 교환 방식의 데이터 전송을 위한 프로토콜이라고 볼 수 있다.


<br/>

### 💡 패킷 

* 패킷 교환 방식에 의해 네트워크로 전송되는 정보 단위를 의미한다.

* 패킷은 응용계층에서 만들어진 데이터의 부분과 전송과정에서 캡슐화를 거쳐서 추가된 패킷 헤더로 구성되어있다.
    
    * 데이터 부분 : 수신 노드에게 전송할 데이터의 일부 ( 전송계층에 의해서 분리됨 -> 패킷단위로 전송을 하기 위해서 )  
    
    * 패킷헤더 : 데이터를 전송하기위해 필요한 정보. ( 어떤 데이터, 어떤 포트, 어떤 주소, 어떤 순서 ) 

* 결국에는 응용계층에서 만들어진 데이터가 패킷이 되는 과정이 캡슐화, 패킷에서 데이터가 되는 과정을 디캡슐화라고한다.

* 프로토콜의 각 계층마다의 PDU 의 이름은 다양한다 ( message - segment - datagram(패킷) -  frame ) 이는 결국 각 계층에서 명명하는 패킷의 이름이라고 볼 수 있다.  

<br/>

### 💡 캡슐화 디캡슐화 

* 캡슐화 

    * 데이터가 패킷 단위로 독립적으로 전송된다면 이를 제어하기 위한 정보가 필요하다. 예를 들어 패킷의 출발지와 도착지, 순서보장을 위한 고유번호가 있다. 이를 위해 각 계층마다의 프로토콜이 헤더를 추가하는 방식으로 전송제어 역할을 진행한다.

    * 결국 데이터를 패깃단위로 만들어서 전송하기 위해 각 계층의 프로토콜들이 헤더를 추가하는 과정을 캡슐화라 한다.


* 디캡슐화 

    * 수신노드에서 패킷을 받으면 패킷을 순서대로 재결합하고 각 계층마다의 헤더 정보를 읽어서 응용계층에게 원래의 데이터 형태로 전달해야한다.

    * 결국 수신한 패킷을 각 계층의 프로토콜을 통해 데이터 형태로 변환하는 과정을 디캡슐화라고 한다.


<br/>

### 💡 프로토콜 

* 노드(=호스트= 통신기기) 들이 네트워크를 통해 데이터를 교환할때 사용하는 통신규약을 의미한다. 


<br/>

### 💡 OSI 7 Layer model 

* ISO 국제 표준화 기구에서 네트워크를 통한 통신 과정을 표준화 및 교육을 목적으로 만든 이론적 모델이다. 

* 통신 과정을 7계층으로 나누고, 각 계층마다의 역할을 기술하였다. 해당 역할은 프로토콜이 진행한다.   


* 7계층 

    * 응용 계층 

        * 사용자가 네트워크 자원에 접근하도록 하기위한 인터페이스를 제공한다.
        
        * 인터페이스는 어플리케이션을 형태로 제공되며 이를 통해 데이터를 통신한다.

        * 예시 
            
            * 웹 브라우저 클라이언트를 사용하여 서버로부터 웹문서를 받는다 ( http https 프로토콜 사용 )

            * putty 클라이언트를 사용하여 원격 접속이 가능하다 ( ssh or telnet 프로토콜 ) 

        * PDU : message 

        * 관련 프로토콜 : HTTP, FTP,  SMTP

    * 표현 계층 

        * 인코딩 - 디코딩  
            
            응용계층에서 받은 데이터를 통신을 위한 형태로 바꾸거나, 통신계층에서 받은 데이터를 응용계층에서 읽을 수 있는 형태로 바꾼다. 전자를 

        * 암호화 - 복호화 
        
            데이터 전송의 보안을 위해 암호화 및 복호화 과정이 이루어진다.

        * 압축

        * 예시 

            * 유니코드(UTF-8)로 인코딩 되어있는 문서를 ASCII로 인코딩 된 문서로 변환하려 할 때

        * PDU : message 

        * 관련 프로토콜 : ASCII, MPEG, JPEG, MIDI

    * 세션 계층 

        * 응용 프로그램 간의 연결를 유지하기 위한 구조를 제공하고 이를 처리하기 위해 프로세스 단위의 논리적인 연결을 담당한다.

        * 응용프로그램간의  세션을 설정하고, 유지하고, 해제한다.

        * 응응프로그램간의 대화방식(=통신방식)을 관리한다.
            
            * 전이중 방식 : 하나의 연결에 양쪽에서 정보 전달이 가능하다.
            * 반이중 방식 : 한쪽에서 정보전달이 완료되어야 다른 한쪽에서 정보를 전달할 수 있다.
            * 단방향 방식 : 한쪽에서만 데이터 전달이 가능하다.

        * PDU : message

        * 관련 프로토콜 : NetBIOS, SAP, SDP

    * 전송 계층 

        * 해더에 포트번호 추가 

            포트 번호를 통해 받는 통신 주체의 어플리케이션 정보를 알려준다.

            어플리케이션 프로토콜마다 사용하는 사용하는 포트번호가 있음


        * 세그맨테이션 

            세션계층으로 받은 데이터를 세그먼트 단위로 나누는 역할을 한다.
            
            이유 : 패킷 교환방식의 효율성   
            
            예시 : 동영상 부분로딩 


        * 흐름제어

            수신 송신측 데이터 처리 속도 차이를 제어하는 기법.

            속도를 제어하지 않으면 수신측의 큐에서 버퍼 오버플로우가 발생하여 패킷 손실가능성 증가

            Stop and wail 
            
            sliding window 


        * 오류제어 

            보낸 데이터가 손실 여부를 확인하고 , 오류가 있다면 다시 해당 데이터를 보내주는 것을 의미한다. 

            시퀀스 넘버 기반의 오류제어 방식을 사용한다.

            FEC, BEC, ARQ와 같은 방식 

            예시  
            
            Stop and Wait ARQ

            go back in ARQ

            SR ARQ


        * 혼잡제어  

        한 라우터에 데이터가 몰려있는 경우 데이터 처리를 못하는 경우와 같은 문제 발생 
        
        이러한 혼잡성을 해결하기 송신측에서 보내는 데이터의 전송속도를 제어하는 것이 혼잡제어의 개념이다.


            * AIMD (= 합증가/곱감소)

            * slow start


        * TCP/ UDP

            * TCP : 신뢰성 있는 데이터 전송 서비스를 보장 
            ( 보냈으면 받았는지 확인 )

            * UDP : 신뢰성보다는 빠른 데이터 전송 서비스를 보장
            ( 보내기만 하면됨, 나는 책임없다) 

            * 예시 : 방화벽이나 프록시 서버 


        * PDU : 세그먼트  , USER DATAGRAM

        * 관련 프로토콜 : TCP/ UDP

    * 네트워크 계층
        
        * IP 주소 체계를 바탕으로 라우팅을 담당한다. 
        
        * 라우팅이란 통신할 데이터를 최대한 빠르게 보내기 위해 최적의 경로를 선택하는 과정을 의미한다

        * IP datagram header 에는 송신자, 수신자 IP주소가 있는데 각 노드의  Routing table을 바탕으로 경로를 찾아 Host-by-Host , Hop-by-Hop Delivery를 진행한다. 

        * PDU : IP datagram ( 패킷 )

        * 관련 프로토콜 : IP
    
    
    * 데이터 링크 계층 
        
        * 해당 계층의 프로톸콜에서 mac 주소와 관련된 헤더와 트레일러를 추가한다. 
        
        * Mac 주소 : NIC(네트워크 카드)의 고유 식별 정보  (Media access control)

        * 오류제어 : CRC기반 

        * 트레일러 

        * PDU :  Frame 

        * 관련 프로토콜 : 
    
    * 물리 계층 

        * 물리적으로 데이터 전송이 일어나는 계층이다. 상위계층으로받은 패킷을 전기적인 신호로 바꾸어 수신노드에게 전달한다. 이때 상위계층의 패킷은 Bit stream의 디지털 신호이며, 변환된 신호는 아나로그 신호이다

        * 대표적인 장치 : 케이블, 리피터, 허브, 



