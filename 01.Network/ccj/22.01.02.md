## [cookie와 session]()

#### 💡 cookie와 session에 대해 설명해주세요
- 세션과 쿠키는 http 비연결성을 해결하기 위해 사용자 정보를 저장하는 역할
- 세션은 서버에 저장되어 안전 but 세션만 사용하면 서버에 부하 발생
- 쿠키는 클라이언트 저장소에 저장되어 세션보다는 보안성이 낮지만 서버에 부하 x

#### 💡 Session 동작 순서를 설명해주세요.
- 클라이언트가 로그인하고 성공하면 서버가 사용자 세션을 만들고 메모리나 DB에 저장
- 서버가 클라이언트에게 세션 아이디를 보내고 클라이언트의 브라우저에 세션 아이디만 쿠키에 저장

#### 💡 cookie를 쓰는 이유를 설명해주세요
- 세션을 많이 사용하면 서버에 부하가 가기 때문에

#### 💡 세션 인증방식 단점
- 세션 데이터가 서버의 메모리에 저장되므로 확장 시 모든 서버가 접근할 수 있도록 별도의 중앙 세션 관리 시스템 필요
- 중앙 세션 관리 시스템 장애시 전체 시스템 문제

#### 💡 토큰 인증방식
- 클라이언트가 로그인 하고 성공하면 서버로부터 접근 토큰 부여받음
- 이후 클라이언트가 모든 API 요청을 할 때 접근 토큰을 포함시킴
- 서버는 접근 토큰을 해독하고 검증되면 API 기능을 수행함
- 기간 만료되면 토큰 지우고 재로그인하게 함

#### 💡 JWT
- Json Web Token URL-safe 한 json | URL 로 이용할 수 있는 문자로만 구성됨

#### 💡 토큰 인증방식 단점
- 수명이 짧으면 토큰 기한 만료로 재로그인해야함
- 길면 해커에게 토큰 해독되어 보안 문제

#### 💡 쿠키 인증방식 해결방안  
- Secure 옵션 : HTTPS 로 통신하는 경우에만 웹브라우저가 쿠키를 서버로 전송 | XSS 문제를 완화
- HttpOnly 옵션 : document.cookie 를 이용하여 쿠키에 접속을 막음
- CSURF 라이브러리 : 사용자가 자신의 의지와는 무관하게 공격자가 의도한 행위를 특정 웹사이트에 요청하게 하는 공격인 CSRF를 예방

---
## 정리

#### [쿠키](https://interconnection.tistory.com/74)
- 쿠키는 클라이언트(브라우저) 로컬에 저장되는 키와 값이 들어있는 데이터 파일
- 쿠키는 클라이언트의 상태 정보를 로컬에 저장했다가 참조
    - 클라이언트가 페이지 요청
    - 서버가 쿠키를 포함하여 HTTP 헤더에 넣어서 보냄
    - 클라이언트가 쿠키를 저장하고 있다가 HTTP에 넣어서 서버에 보냄
    - 변동사항이 있을 경우 서버에서 업데이트해서 다시 담아서 보냄

#### 세션
- 쿠키 기반이지만 브라우저에 사용자 정보를 저장하는 쿠키와 달리 서버에서 관리
    - 클라이언트가 서버 접속시 세션 ID를 받음
    - 클라이언트는 세션 ID를 쿠키를 사용하여 저장
    - 서버에 요청보낼때 세션 ID 같이보냄
    - 서버는 세션 ID를 받고 세션에 있는 클라이언트 정보를 가지고 이용
    
#### `쿠키와 세션의 라이프사이클?`

#### [JWT](http://www.opennaru.com/opennaru-blog/jwt-json-web-token/)
- JWT 의 목적
- 참조에 의한 호출, `값에 의한 호출`