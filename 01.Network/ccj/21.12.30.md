# 21.12.30
## DNS와 DHCP
## 로드 밸런서

---
#### 💡 도메인과 DNS가 무엇인지 설명해주세요
- 도메인이란 ip주소를 사람들이 기억하기 쉽게 이름을 부여하는 것
- 브라우저가 인터넷 자원을 로드할 수 있도록 도메인 이름을 IP주소로 변환시켜 주는 것이 DNS

#### 💡 Domain Name 구조를 설명해주세요.
- 최상위에 루트 DNS 서버가 존재하고 계층 구조로 구성되어 있음

#### 💡 DNS round robin 방식의 문제점과 해결방법을 설명해주세요.
- `여러개의 IP를 순서를 정해서 제공하는 방식`
- 특정 웹 서버에 문제가 생겨 서비스가 불가능하더라도 DNS는 알지 못함
- 개선 방법으로 처음 선택한 IP가 접속이 안되면 그 다음 IP를 접속하도록 로직 추가

#### 💡 DHCP 서버의 역할을 간단히 설명해주세요.
- `DHCP 서버`는 네트워크 인터페이스를 위해서 IP주소를 가지고 있는 서버에서 실행되는 프로그램으로 
일정한 범위의 IP주소를 다른 클라이언트에게 할당하여 자동으로 설정하게 해주는 역할을 함

#### 💡 Domain Name System 동작과정을 설명해주세요.  
- 사용자 컴퓨터의 운영체제가 `hosts`에 해당 Domain의 IP주소가 저장되었는지 확인
- hosts에 없으면 가장 가까운 `로컬 DNS` 서버에 요청
- 로컬 DNS 서버에도 없으면 ROOT서버에 요청 | ROOT 서버는 .com 의 주소를 알고 있는 TopLevel 서버 주소를 알려줌
- SecondLevel 서버는 www.naver.com의 주소를 알고 있는 SUB서버의 주소를 알려줌
- SUB 서버는 사용자에게 최종적으로 www.naver.com 의 IP주소를 알려줌

#### 💡 로드 밸런싱을 설명해주세요.
* 서버를 여러대 사용할 때 트래픽이 몰리면 여러 서버에 균등하게 트래픽을 분산 처리하는 기술입니다.

#### 💡 L4 로드 밸런싱과 L7 로드 밸런싱에 대해 설명하고, 차이를 말해보세요
* L4는 4계층인 네트워크 계층에서 사용됩니다. 패킷 레벨에서만 트래픽을 분산하기 때문에 속도가 빠르고 효율성이 높습니다. L7 로드 밸런싱보다 저렴합니다.
* L7는 7계층인 애플리케이션 계층에서 사용됩니다. HTTP Header, Cookie 등과 같이 사용자가 요청한 정보들을 바탕으로 트래픽을 분산하기 때문에 섬세한 라우팅이 가능하고 비정상적인 트래픽을 판별할 수 있습니다. L4 로드 밸런싱보다 가격이 비쌉니다.

#### 💡 게이트웨이란?
* 한 `네트워크`에서 다른 네트워크로 이동하기 위하여 거쳐야 하는 지점

#### 💡 서버에 트래픽이 주어졌을 때 어떻게 응답속도를 개선할 수 있는가요
* 여러개의 서버에 트래픽을 균등하게 나눠주는 로드 밸런싱을 사용해 응답속도를 개선할 수 있습니다.
---

## 정리
#### DNS round robin
- IP요청 쿼리 시 round robin 방식으로 IP 반환

#### DHCP(Dynamic Host Configuration Protocol)
- IP를 필요로하는 컴퓨터에게 자동으로 할당해서 사용하게 함
- 사용하지 않으면 반환하게 함
- 보통 라우터 장비에 해당 기능 탑재
- 별도의 서버에 DHCP 서비스를 설정하여 사용할 수 있음
- 라우터는 단지 게이트웨이 역할만 하고 DHCP 서버는 별도로 두는 구성이 많이 사용됨
- `임대, 갱신, 반환`

#### hosts

#### Local DNS

#### L4 로드밸런서
- 네트워크 계층이나 트랜스포트 계층의 정보를 바탕으로 로드를 분산함
- IP주소나 포트번호, MAC주소, 전송 프로토콜에 따라 트래픽을 나누는 것이 가능

- 데이터 안을 들여다 보지 않고 로드를 분산 => 속도 빠르고 효율 높음
- 패킷 내용을 살펴볼 수 없어 섬세한 라우팅 불가능
- `사용자 IP 수시로 바뀌면 연속적인 서비스 불가`

#### L7 로드밸런서
- 애플리케이션 계층에서 로드를 분산함
- HTTP 헤더, 쿠키 등과 같은 사용자의 요청을 기준으로 특정 서버에 트래픽을 분산하는 것이 가능

- 섬세한 라우팅 가능
- 캐싱 기능 제공
- 비정상적 트래픽 사전에 필터 => 안정성 높음
- 높은 비용 & 보안상 위험