# Operating System 03. Memory Management

## 00. Memory Management

- ### 개념

  프로세스들은 독립적인 메모리 공간을 갖는다. 하지만 메인 메모리는 한정적인 공간이기 때문에 무제한 적으로 프로세스들에게 공간을 할당할 수 없다.

  운영체제는 효율적인 메모리 사용을 위해 메모리를 관리하고 멀티 프로그래밍 환경을 제공한다.

- ### Swapping

  스케줄링 알고리즘에 따라 현재 실행 중인 프로세스를 디스크로 보내고 새로운 프로세스에게 메모리를 할당하는 방식이다.

- ### 단편화

  메모리의 공간들이 작은 조각으로 나뉘어 빈 공간이 충분함에도 할당이 불가능한 상태

  1. 내부 단편화

     프로세스가 차지하는 메모리 공간 안에 포함된 남는 부분이다.

  2. 외부 단편화

     메인 메모리 공간에서 프로세스 사이사이의 남는 공간을 모두 합치면 새로운 프로세스의 할당이 가능하지만 조각들이 분산되어 있을 때 생기는 현상

  ### 압축

  외부 단편화를 해소하기 위해 프로세스들이 할당 받은 메모리들을 한쪽으로 몰아 공간을 확보하는 방법, 비효율

---

<br />

## 01. 메모리 관리 방법

- ### 연속 메모리 할당

  외부 단편화를 줄이기 위한 방식이다.

  1. 최초 적합

     메모리를 순차적으로 탐색하여 제일 먼저 발견한 가능 공간에 프로세스를 적재하는 방법(빠르다)

  2. 최적 적합

     메모리 공간과 프로세스가 차지할 메모리의 차이가 가장 적은 곳에 프로세스를 적재하는 방법

  3. 최악 적합

     메모리 공간과 프로세스가 차지할 메모리의 차이가 가장 큰 곳에 프로세스를 적재하는 방법(추후 생길 공간에 또다른 프로세스가 들어갈 수 있다는 가정)

- ### 페이징

  하나의 프로세스가 연속된 메모리를 차지한다는 제약을 없애기 위한 방식

  물리 메모리는 frame, 논리 메모리는 page라는 단위로 분리한다.

  -> 연속되어 저장될 필요가 없고 물리 메모리의 남는 프레임에 적절히 배치되기 때문에 외부 단편화 해결

  -> 페이지 크기가 고정이기 때문에 내부 단편화의 비중이 커진다.

- ### 세그멘테이션

  페이지처럼 고정된 크기가 아닌 서로 다른 크기의 논리적 단위(세그먼트)로 분리하여 메모리에 적재하는 방식

  -> 외부 단편화가 생긴다
